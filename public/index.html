<!doctype html>
<html>
  <head>
    <title>Sutro demo</title>
    <style>
      #screen{
        width:100%;
        height:100%;
        position: absolute;
        top: 0;
        left: 0;
        background-image:url('/SutroAlertScreenv1.png');
        background-repeat:no-repeat;
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center;
      }
    </style>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://cdn.socket.io/socket.io-1.0.3.js"></script>
  </head>
  <body>
    <div id='screen'></div>
    
    <script>
      var socket = io();
      
      socket.on('test', function(msg){
        console.log(msg);
        alert('test!');
      });
      
      socket.on('message', function(msg){
        goodpool();
        //delay 3 seconds then kick over to the order screen
        setTimeout(function(){
          orderpool();
        }, 3000);
      });
      
      var imgs = ["SutroAlertScreenv1.png", "SutroHomeScreenv1.png", "SutroOrderScreenv1.png"];
      
      function goodpool(){
        $('#screen').css('background-image', 'url(/' + imgs[1] + ')'); 
      };
      
      function badpool(){
        $('#screen').css('background-image', 'url(/' + imgs[0] + ')'); 
      };
      
      function orderpool(){
        $('#screen').css('background-image', 'url(/' + imgs[2] + ')'); 
      };
      
      $( document ).ready(function() {
        badpool(); //default on load
        console.log( "ready!" );
      });
    </script>
  </body>
</html>
